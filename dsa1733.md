## 1/
Problem: We have users, each speaking some languages. Friendships exist, but two friends can only chat if they share a common language. If not, we must teach them one. Find the minimum users to teach.

## 2/
Naïve idea: Try every friendship, directly teach them a random common language. But that could mean teaching way more users than needed. The trick is to focus only on users who can’t talk at all.

## 3/
Step 1: Identify all “problem friendships” — pairs with no common language. From them, collect the set of users who need help. Everyone else is fine, no need to waste teaching.

## 4/
Step 2: For these users, try teaching them each possible language. For every language, count how many don’t know it already. That’s the number we’d need to teach if we pick that language.

## 5/
Finally, pick the language with the minimum teaching count. That’s the optimal solution: we minimize the number of users who must learn something new. Elegant and efficient.

## 6/
Takeaway: Instead of brute-forcing friendships or teaching randomly, shrink the problem. First target only the “users who struggle,” then evaluate language choices. Clear, optimal, and interviewer-friendly.

```cpp
#include <bits/stdc++.h>
using namespace std;

class Solution {
public:
    int minimumTeachings(int totalLanguages, vector<vector<int>>& userLanguages, vector<vector<int>>& friendships) {
        unordered_set<int> usersToTeach;

        // Step 1: Identify users who can't communicate
        for (auto& friendship : friendships) {
            int user1 = friendship[0] - 1; // Convert to 0-based index
            int user2 = friendship[1] - 1;
            bool canCommunicate = false;

            for (int lang1 : userLanguages[user1]) {
                for (int lang2 : userLanguages[user2]) {
                    if (lang1 == lang2) {
                        canCommunicate = true;
                        break;
                    }
                }
                if (canCommunicate) break;
            }

            if (!canCommunicate) {
                usersToTeach.insert(user1);
                usersToTeach.insert(user2);
            }
        }

        // Step 2: Try teaching each language
        int minUsersToTeach = userLanguages.size() + 1;

        for (int language = 1; language <= totalLanguages; language++) {
            int count = 0;

            for (int user : usersToTeach) {
                bool knowsLanguage = false;
                for (int lang : userLanguages[user]) {
                    if (lang == language) {
                        knowsLanguage = true;
                        break;
                    }
                }
                if (!knowsLanguage) count++;
            }

            minUsersToTeach = min(minUsersToTeach, count);
        }

        return minUsersToTeach;
    }
};
```
